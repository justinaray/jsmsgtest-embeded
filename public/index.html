<!DOCTYPE html>
<html>
    <head>
        <title>Embeded</title>
        <link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap.min.css">
        <script src="vendor/jquery/dist/jquery.min.js"></script>
    </head>

    <body>
        <p>
            This is the inner message sender component
        </p>

        <br>
        <input type="text" class="txt-msg" value="">
        <button class="send-txt">Send Msg</button>
        <button class="show-user">Show User</button>

        <script>
            if(parent !== window) {
                $('button.send-txt').on('click', function() {
                    var txtMsgField = $('input.txt-msg');
                    var msgToSend = txtMsgField.val();
                    if(msgToSend) {
                        parent.postMessage(msgToSend, '*');
                        txtMsgField.val('');
                    }
                });

                $('button.show-user').on('click', function() {
                    var txtMsgField = $('input.txt-msg');
                    var msgToSend = txtMsgField.val();
                    if(msgToSend) {
                        parent.postMessage({"action": "showProfile", "userGuid": msgToSend}, '*');
                        txtMsgField.val('');
                    }

                });
            }
        </script>
    </body>
</html>
